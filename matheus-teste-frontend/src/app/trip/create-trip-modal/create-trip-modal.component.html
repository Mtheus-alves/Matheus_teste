<p-button class="btn-create" (click)="showDialog()" icon="pi pi-plus" label="Nova corrida" />

<p-dialog 
  header="Criar corrida" 
  [modal]="true" 
  [(visible)]="visible" 
  [style]="{width: '40rem'}"
>
  <form *ngIf="!loading" [formGroup]="formTrip" (ngSubmit)="onSubmit()">
    <div class="form-group row">

      <div class="p-2 col-6 p-field">
        <label for="status">Nome do motorista</label>
        <p-select 
          class="w-100" 
          id="status" 
          [options]="drivers" 
          optionLabel="nmDriver" 
          placeholder="Selecionar" 
          formControlName="idDriver" 
          optionValue="idDriver" 
        />
      </div>

      <div class="p-2 col-6 p-field">
        <label for="status">Nome do passageiro</label>
        <p-select 
          class="w-100" 
          id="status" 
          [options]="passangers" 
          optionLabel="nmPassanger" 
          placeholder="Selecionar" 
          formControlName="idPassanger" 
          optionValue="idPassanger" 
        />
      </div>

      <div class="p-2 col-6 p-field">
      <label for="value">Valor</label>
        <input 
          id="value"
          class="form-control"
          formControlName="tripValue"
          pInputText
          mask="separator.2"
          prefix="R$ "
          thousandSeparator="."
          decimalMarker=","
        />
      </div>

      <p-button [disabled]="!formTrip.valid" type="submit" class="mt-3 btn-create" label="Adicionar"></p-button>
    </div>
  </form>

  <div class="d-flex justify-content-center" *ngIf="loading">
    <i class="pi pi-spin pi-spinner" style="font-size: 5rem"></i>
  </div>

</p-dialog>

<p-toast />